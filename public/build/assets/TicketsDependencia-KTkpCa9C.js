import{_ as f}from"./AuthenticatedLayout-D1ZQtyVg.js";import{l as h,m as g,s as _,c as C,a as l,u as k,w as p,F as v,o as x,d as w,e}from"./app-D4hlugvQ.js";import{C as D}from"./auto-TbvzFur0.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={__name:"TicketsDependencia",props:{incidencias:Object},setup(m){const s=m,d=h({labels:[],datasets:[]}),u=t=>{const a=[];for(let n=0;n<t;n++){const c=`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`;a.push(c)}return a},i=()=>{const t=s.incidencias.data.map(o=>o.dependencia),a=s.incidencias.data.map(o=>o.total_finalizadas),n=s.incidencias.data.map(o=>o.total_en_proceso),c=s.incidencias.data.map(o=>o.total_pendientes),r=u(4);d.value={labels:t,datasets:[{label:"Finalizadas",data:a,backgroundColor:r[1]},{label:"En Proceso",data:n,backgroundColor:r[2]},{label:"Pendientes",data:c,backgroundColor:r[3]}]},b()},b=()=>{const t=document.getElementById("ticketsChart").getContext("2d");new D(t,{type:"bar",data:d.value,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{beginAtZero:!0,stacked:!0}}}})};return g(()=>{var t,a;(a=(t=s.incidencias)==null?void 0:t.data)!=null&&a.length&&i()}),_(()=>s.incidencias,()=>{var t,a;(a=(t=s.incidencias)==null?void 0:t.data)!=null&&a.length&&i()}),(t,a)=>(x(),C(v,null,[l(k(w),{title:"Dashboard"}),l(f,null,{header:p(()=>a[0]||(a[0]=[e("div",{class:"text-center w-full mb-4"},[e("h1",{class:"font-semibold mb-5"},"Dashboard"),e("hr",{class:"my-2 border-t-1 border-gray-900 w-full mx-auto"})],-1)])),default:p(()=>[a[1]||(a[1]=e("div",{class:"dashboard p-1"},[e("div",{class:"grid grid-cols-4 gap-4"},[e("div",{class:"stat-card bg-white shadow p-4 rounded col-span-4"},[e("h2",{class:"text-lg font-semibold"},"Gr√°fico de Incidencias por Dependencia"),e("div",{class:"chart-container"},[e("canvas",{id:"ticketsChart"})])])])],-1))]),_:1})],64))}},I=y(B,[["__scopeId","data-v-a81b68e5"]]);export{I as default};
