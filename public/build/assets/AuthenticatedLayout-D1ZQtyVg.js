import{m as V,x as T,h as C,l as y,o as d,c as u,e,k as M,i as x,y as k,a,w as r,n as B,T as b,j as _,u as n,P as w,t as g,g as c,F as L,q as A,b as h,B as D,a5 as H}from"./app-D4hlugvQ.js";const P={class:"relative"},z={class:"absolute right-0 z-10 mt-2 w-48 overflow-hidden rounded-md bg-white shadow-xl"},Z={__name:"Dropdown",props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:()=>["py-1","bg-white"]}},setup(m){const s=m,o=v=>{p.value&&v.key==="Escape"&&(p.value=!1)};V(()=>document.addEventListener("keydown",o)),T(()=>document.removeEventListener("keydown",o));const l=C(()=>({48:"w-48"})[s.width.toString()]),f=C(()=>s.align==="left"?"origin-top-left left-0":s.align==="right"?"origin-top-right right-0":"origin-top"),p=y(!1);return(v,i)=>(d(),u("div",P,[e("div",{onClick:i[0]||(i[0]=t=>p.value=!p.value)},[M(v.$slots,"trigger")]),x(e("div",{class:"fixed inset-0 z-40",onClick:i[1]||(i[1]=t=>p.value=!1)},null,512),[[k,p.value]]),a(b,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"scale-95 transform opacity-0","enter-to-class":"scale-100 transform opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"scale-100 transform opacity-100","leave-to-class":"scale-95 transform opacity-0"},{default:r(()=>[x(e("div",{class:B(["absolute z-50 mt-2 rounded-md shadow-lg",[l.value,f.value]]),style:{display:"none"},onClick:i[2]||(i[2]=t=>p.value=!1)},[e("div",z,[M(v.$slots,"content")])],2),[[k,p.value]])]),_:3})]))}},j={__name:"DropdownLink",props:{href:{type:String,required:!0}},setup(m){return(s,o)=>(d(),_(n(w),{href:m.href,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white"},{default:r(()=>[M(s.$slots,"default")]),_:3},8,["href"]))}},N={class:"flex items-center justify-between border-b-4 border-indigo-600 bg-white px-6 py-4"},S={class:"flex items-center"},O={class:"flex items-center space-x-4"},E={key:0,class:"relative cursor-pointer"},U={key:0,class:"absolute top-0 right-0 transform translate-x-2 -translate-y-2 px-2 py-0.5 text-xs font-bold text-white bg-red-500 rounded-full"},q={class:"p-4 max-h-64 overflow-y-auto"},F={class:"text-sm font-semibold"},G={class:"text-xs"},I={class:"text-xs text-gray-500"},R={class:"text-xs text-gray-500"},J={methods:{truncate(m,s){return m.length>s?m.substring(0,s)+"...":m}}},K=Object.assign(J,{__name:"Header",setup(m){return(s,o)=>(d(),u("header",N,[e("div",S,[e("button",{onClick:o[0]||(o[0]=l=>s.$page.props.showingMobileMenu=!s.$page.props.showingMobileMenu),class:"text-gray-500 focus:outline-none lg:hidden"},o[2]||(o[2]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",O,[a(Z,null,{trigger:r(()=>[s.$page.props.user.permissions.includes("Tickets generales")?(d(),u("div",E,[o[3]||(o[3]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})],-1)),s.$page.props.incidenciasPendientes>0?(d(),u("span",U,g(s.$page.props.incidenciasPendientes),1)):c("",!0)])):c("",!0)]),content:r(()=>[e("div",q,[o[4]||(o[4]=e("h3",{class:"font-bold text-lg"},"Notificaciones",-1)),(d(!0),u(L,null,A(s.$page.props.notificaciones,(l,f)=>(d(),u("div",{key:f,class:"mt-2 border-b pb-2"},[e("p",F,g(l.titulo),1),e("p",G,g(s.truncate(l.descripcion,100)),1),e("p",I,"Área solicitante: "+g(l.dependencia),1),e("p",R,"Hecho por: "+g(l.usuario),1)]))),128))])]),_:1}),a(Z,null,{trigger:r(()=>[e("button",{onClick:o[1]||(o[1]=l=>s.dropdownOpen=!s.dropdownOpen),class:"relative overflow-hidden"},g(s.$page.props.auth.user.name),1)]),content:r(()=>[a(j,{href:s.route("profile.edit")},{default:r(()=>o[5]||(o[5]=[h(" Perfil ")])),_:1},8,["href"]),a(j,{class:"w-full text-left",href:s.route("logout"),method:"post",as:"button"},{default:r(()=>o[6]||(o[6]=[h(" Salir ")])),_:1},8,["href"])]),_:1})])]))}}),Q={class:"mt-10","x-data":"{ isMultiLevelMenuOpen: false }"},W={class:"overflow-hidden p-2 mx-4 mt-2 space-y-2 text-sm font-medium text-white bg-gray-700 bg-opacity-50 rounded-md shadow-inner","aria-label":"submenu"},X={class:"px-2 py-1 transition-colors duration-150 flex items-center"},Y={class:"px-2 py-1 transition-colors duration-150 flex items-center"},ee={class:"px-2 py-1 transition-colors duration-150 flex items-center"},te={class:"overflow-hidden p-2 mx-4 mt-2 space-y-2 text-sm font-medium text-white bg-gray-700 bg-opacity-50 rounded-md shadow-inner","aria-label":"submenu"},se={class:"px-2 py-1 transition-colors duration-150 flex items-center"},oe={class:"px-2 py-1 transition-colors duration-150 flex items-center"},ie={class:"overflow-hidden p-2 mx-4 mt-2 space-y-2 text-sm font-medium text-white bg-gray-700 bg-opacity-50 rounded-md shadow-inner","aria-label":"submenu"},ne={class:"px-2 py-1 transition-colors duration-150 flex items-center"},re={class:"px-2 py-1 transition-colors duration-150 flex items-center"},ae={key:0,class:"ml-2 px-2 py-0.5 text-xs font-bold text-white bg-red-500 rounded-full"},le={class:"overflow-hidden p-2 mx-4 mt-2 space-y-2 text-sm font-medium text-white bg-gray-700 bg-opacity-50 rounded-md shadow-inner","aria-label":"submenu"},de={class:"px-2 py-1 transition-colors duration-150 flex items-center"},ue={key:0,class:"px-2 py-1 transition-colors duration-150 flex items-center"},he={key:1,class:"px-2 py-1 transition-colors duration-150 flex items-center"},pe={props:{incidenciasPendientes:Number}},we=Object.assign(pe,{__name:"Navigation",setup(m){let s=y(!1),o=y(!1),l=y(!1),f=y(!1);const p=D(),v=C(()=>p.props.incidenciasPendientes);return V(()=>{console.log(p.props.user.permissions)}),(i,t)=>(d(),u(L,null,[e("div",{class:B([i.$page.props.showingMobileMenu?"block":"hidden","fixed inset-0 z-20 bg-black opacity-50 transition-opacity lg:hidden"]),onClick:t[0]||(t[0]=$=>i.$page.props.showingMobileMenu=!1)},null,2),e("div",{class:B([i.$page.props.showingMobileMenu?"translate-x-0 ease-out":"-translate-x-full ease-in","overflow-y-auto fixed inset-y-0 left-0 z-30 w-64 bg-gray-900 transition duration-300 transform lg:translate-x-0 lg:static lg:inset-0"])},[t[30]||(t[30]=e("div",{class:"flex justify-center items-center mt-8"},[e("div",{class:"flex items-center"},[e("span",{class:"mx-2 text-2xl font-semibold text-white text-center"},"Gestión de incidencias")])],-1)),e("nav",Q,[i.$page.props.user.permissions.includes("ver usuario")?(d(),u("a",{key:0,class:"flex items-center mt-4 py-2 px-6 text-gray-100",href:"#",onClick:t[1]||(t[1]=$=>H(f)?f.value=!n(f):f=!n(f))},t[5]||(t[5]=[e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667"})],-1),e("span",{class:"mx-3"},"Dashboards",-1)]))):c("",!0),a(b,{"enter-to-class":"transition-all duration-300 ease-in-out","enter-from-class":"max-h-0 opacity-25","leave-from-class":"opacity-100 max-h-xl","leave-to-class":"max-h-0 opacity-0"},{default:r(()=>[x(e("div",null,[e("ul",W,[e("li",X,[t[7]||(t[7]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z"})],-1)),a(n(w),{class:"w-full mx-2",href:i.route("dashboard")},{default:r(()=>t[6]||(t[6]=[h("Tickets generales")])),_:1},8,["href"])]),e("li",Y,[t[9]||(t[9]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",stroke:"white"},[e("path",{d:"M6 2c-1.10457 0-2 .89543-2 2v4c0 .55228.44772 1 1 1s1-.44772 1-1V4h12v7h-2c-.5523 0-1 .4477-1 1v2h-1c-.5523 0-1 .4477-1 1s.4477 1 1 1h5c.5523 0 1-.4477 1-1V3.85714C20 2.98529 19.3667 2 18.268 2H6Z"}),e("path",{d:"M6 11.5C6 9.567 7.567 8 9.5 8S13 9.567 13 11.5 11.433 15 9.5 15 6 13.433 6 11.5ZM4 20c0-2.2091 1.79086-4 4-4h3c2.2091 0 4 1.7909 4 4 0 1.1046-.8954 2-2 2H6c-1.10457 0-2-.8954-2-2Z"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("incidenciasPorDependencia")},{default:r(()=>t[8]||(t[8]=[h("Tickets por area")])),_:1},8,["href"])]),e("li",ee,[t[11]||(t[11]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.583 8.445h.01M10.86 19.71l-6.573-6.63a.993.993 0 0 1 0-1.4l7.329-7.394A.98.98 0 0 1 12.31 4l5.734.007A1.968 1.968 0 0 1 20 5.983v5.5a.992.992 0 0 1-.316.727l-7.44 7.5a.974.974 0 0 1-1.384.001Z"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("dependencias.index")},{default:r(()=>t[10]||(t[10]=[h("Tickets por tipo de incidencia ")])),_:1},8,["href"])])])],512),[[k,n(f)]])]),_:1}),i.$page.props.user.permissions.includes("ver usuario")?(d(),u("a",{key:1,class:"flex items-center mt-4 py-2 px-6 text-gray-100",href:"#",onClick:t[2]||(t[2]=$=>H(l)?l.value=!n(l):l=!n(l))},t[12]||(t[12]=[e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})],-1),e("span",{class:"mx-3"},"Dependencias",-1)]))):c("",!0),a(b,{"enter-to-class":"transition-all duration-300 ease-in-out","enter-from-class":"max-h-0 opacity-25","leave-from-class":"opacity-100 max-h-xl","leave-to-class":"max-h-0 opacity-0"},{default:r(()=>[x(e("div",null,[e("ul",te,[e("li",se,[t[14]||(t[14]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m7.4285 11 5-6 5 6m-10 0h-3v8h16v-8h-3m-10 0H3.42851l3-4h4.33739l-3.3374 4Zm10 0V7.5m-3 5.5c0 1.1046-.8954 2-2 2s-2-.8954-2-2 .8954-2 2-2 2 .8954 2 2Zm3-8v3h4V5h-4Z"})],-1)),a(n(w),{class:"w-full mx-2",href:i.route("dependencias.create")},{default:r(()=>t[13]||(t[13]=[h("Añadir")])),_:1},8,["href"])]),e("li",oe,[t[16]||(t[16]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 9h6m-6 3h6m-6 3h6M6.996 9h.01m-.01 3h.01m-.01 3h.01M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("dependencias.index")},{default:r(()=>t[15]||(t[15]=[h("Listado")])),_:1},8,["href"])])])],512),[[k,n(l)]])]),_:1}),i.$page.props.user.permissions.includes("ver usuario")?(d(),u("a",{key:2,class:"flex items-center mt-4 py-2 px-6 text-gray-100",href:"#",onClick:t[3]||(t[3]=$=>H(o)?o.value=!n(o):o=!n(o))},t[17]||(t[17]=[e("svg",{class:"w-6 h-6 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-width":"2",d:"M16 19h4a1 1 0 0 0 1-1v-1a3 3 0 0 0-3-3h-2m-2.236-4a3 3 0 1 0 0-4M3 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})],-1),e("span",{class:"mx-3"},"Usuarios",-1)]))):c("",!0),a(b,{"enter-to-class":"transition-all duration-300 ease-in-out","enter-from-class":"max-h-0 opacity-25","leave-from-class":"opacity-100 max-h-xl","leave-to-class":"max-h-0 opacity-0"},{default:r(()=>[x(e("div",null,[e("ul",ie,[e("li",ne,[t[19]||(t[19]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white mr-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12h4m-2 2v-4M4 18v-1a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v1a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1Zm8-10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})],-1)),a(n(w),{class:"w-full",href:i.route("users.create")},{default:r(()=>t[18]||(t[18]=[h("Añadir")])),_:1},8,["href"])]),e("li",re,[t[21]||(t[21]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-width":"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("users.index")},{default:r(()=>t[20]||(t[20]=[h("Listado")])),_:1},8,["href"])])])],512),[[k,n(o)]])]),_:1}),e("a",{class:"flex items-center mt-4 py-2 px-6 text-gray-100",href:"#",onClick:t[4]||(t[4]=$=>H(s)?s.value=!n(s):s=!n(s))},[t[22]||(t[22]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"white",viewBox:"0 0 24 24"},[e("path",{"fill-rule":"evenodd",d:"M3.559 4.544c.355-.35.834-.544 1.33-.544H19.11c.496 0 .975.194 1.33.544.356.35.559.829.559 1.331v9.25c0 .502-.203.981-.559 1.331-.355.35-.834.544-1.33.544H15.5l-2.7 3.6a1 1 0 0 1-1.6 0L8.5 17H4.889c-.496 0-.975-.194-1.33-.544A1.868 1.868 0 0 1 3 15.125v-9.25c0-.502.203-.981.559-1.331ZM7.556 7.5a1 1 0 1 0 0 2h8a1 1 0 0 0 0-2h-8Zm0 3.5a1 1 0 1 0 0 2H12a1 1 0 1 0 0-2H7.556Z","clip-rule":"evenodd"})],-1)),t[23]||(t[23]=e("span",{class:"mx-3"},"Incidencias",-1)),i.$page.props.user.permissions.includes("Tickets generales")?(d(),u("span",ae,g(v.value),1)):c("",!0)]),a(b,{"enter-to-class":"transition-all duration-300 ease-in-out","enter-from-class":"max-h-0 opacity-25","leave-from-class":"opacity-100 max-h-xl","leave-to-class":"max-h-0 opacity-0"},{default:r(()=>[x(e("div",null,[e("ul",le,[e("li",de,[t[25]||(t[25]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M3 15v3c0 .5523.44772 1 1 1h4v-4m-5 0v-4m0 4h5m-5-4V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v1.98935M3 11h5v4m9.4708 4.1718-.8696-1.4388-2.8164-.235-2.573-4.2573 1.4873-2.8362 1.4441 2.3893c.3865.6396 1.2183.8447 1.8579.4582.6396-.3866.8447-1.2184.4582-1.858l-1.444-2.38925h3.1353l2.6101 4.27715-1.0713 2.5847.8695 1.4388"})],-1)),a(n(w),{class:"w-full mx-2",href:i.route("ticket.create")},{default:r(()=>t[24]||(t[24]=[h("Añadir")])),_:1},8,["href"])]),i.$page.props.user.permissions.includes("Tickets generales")?(d(),u("li",ue,[t[27]||(t[27]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("ticket.ticketsGenerales")},{default:r(()=>t[26]||(t[26]=[h("Tickets creados")])),_:1},8,["href"])])):c("",!0),i.$page.props.user.permissions.includes("Mis tickets")?(d(),u("li",he,[t[29]||(t[29]=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-width":"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})],-1)),a(n(w),{class:"w-full ml-2",href:i.route("ticket.index")},{default:r(()=>t[28]||(t[28]=[h("Mis tickets")])),_:1},8,["href"])])):c("",!0)])],512),[[k,n(s)]])]),_:1})])],2)],64))}}),me={class:"flex h-screen bg-gray-200 font-roboto"},fe={class:"flex flex-1 flex-col overflow-hidden"},ce={class:"flex-1 overflow-y-auto overflow-x-hidden bg-gray-200"},ge={class:"container mx-auto px-6 py-8"},ve={class:"mb-4 text-3xl font-medium text-gray-700"},ke={__name:"AuthenticatedLayout",setup(m){return(s,o)=>(d(),u("div",me,[a(we),e("div",fe,[a(K,{notificaciones:s.$page.props.notificaciones},null,8,["notificaciones"]),e("main",ce,[e("div",ge,[e("h3",ve,[M(s.$slots,"header")]),M(s.$slots,"default")])])])]))}};export{ke as _};
