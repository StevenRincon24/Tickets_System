import{C as g,c as n,a as i,u as o,w as p,F as m,o as d,d as y,e as r,i as u,p as c,E as w,q as k,t as f,g as v,n as h,b as z}from"./app-BntOCUSP.js";import{_}from"./PrimaryButton-CL-wZN6_.js";import{_ as C}from"./AuthenticatedLayout-hhq0HCAA.js";import{d as V}from"./index-BtyV_COL.js";/* empty css                    */const R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"relative flex flex-col min-w-0 break-words w-full shadow-lg rounded-lg bg-blueGray-100 border-0"},U={class:"flex-auto px-4 lg:p-3 pt-0"},E={class:"relative z-0 w-full mb-5 group"},N={class:"relative z-0 w-full mb-5 group"},q={class:"relative z-0 w-full mb-5 group"},T={class:"relative z-0 w-full mb-5 group"},A=["value"],B={key:0,class:"text-red-500 text-sm mt-1"},M={__name:"Create",props:{roles:Array},setup(b){const a=V.useToast(),s=g({nombre:"",email:"",password:"",role:""}),x=()=>{if(s.nombre===""||s.email===""||s.password===""||s.role==="")a.error("Todos los campos son obligatorios.");else{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){a.error("El email no es válido.");return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(s.password)){a.warning("La contraseña debe tener al menos 8 caracteres, una letra mayúscula, una letra minúscula, un número y un carácter especial.");return}}s.post(route("storeUsers"),{onSuccess:l=>{a.success(l.props.flash.success),s.reset()},onError:l=>{a.error("Hubo un error al registrar la dependencia."),console.error(l)}})};return(l,e)=>(d(),n(m,null,[i(o(y),{title:"Dashboard"}),i(C,null,{header:p(()=>e[5]||(e[5]=[r("div",{class:"text-center w-full mb-4"},[r("h1",{class:"font-semibold mb-5"},"Usuarios"),r("hr",{class:"my-2 border-t-1 border-gray-900 w-full mx-auto"})],-1)])),default:p(()=>[r("div",R,[r("div",$,[e[12]||(e[12]=r("div",{class:"rounded-t bg-white mb-0 px-6 py-6"},[r("div",{class:"text-center flex justify-center items-center"},[r("h6",{class:"text-blueGray-700 text-xl font-bold"},"Registro de usuarios")])],-1)),r("div",U,[r("div",E,[u(r("input",{type:"text",name:"nombre",id:"nombre",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>o(s).nombre=t)},null,512),[[c,o(s).nombre]]),e[6]||(e[6]=r("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Nombre",-1))]),r("div",N,[u(r("input",{type:"email",name:"email",id:"email",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o(s).email=t)},null,512),[[c,o(s).email]]),e[7]||(e[7]=r("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Correo electrónico",-1))]),r("div",q,[u(r("input",{type:"password",name:"password",id:"password",class:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>o(s).password=t)},null,512),[[c,o(s).password]]),e[8]||(e[8]=r("label",{for:"floating_email",class:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"},"Contraseña ",-1))]),r("div",T,[e[10]||(e[10]=r("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Rol",-1)),u(r("select",{id:"role",name:"role","onUpdate:modelValue":e[3]||(e[3]=t=>o(s).role=t),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},[e[9]||(e[9]=r("option",{value:"",disabled:"",selected:""},"--Rol--",-1)),(d(!0),n(m,null,k(b.roles,t=>(d(),n("option",{key:t.id,value:t.name},f(t.name),9,A))),128))],512),[[w,o(s).role]]),o(s).errors.role?(d(),n("span",B,f(o(s).errors.role),1)):v("",!0)]),i(_,{onClick:e[4]||(e[4]=t=>x()),class:h(["w-full",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:p(()=>e[11]||(e[11]=[z(" Guardar ")])),_:1},8,["class","disabled"])])])])]),_:1})],64))}};export{M as default};
